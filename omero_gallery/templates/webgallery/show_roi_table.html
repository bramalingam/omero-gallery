<head>
    <style>
        table {
            border-spacing: 0;
            width: 30%;
            border: 1px solid #ddd;
        }

        th {
            cursor: pointer;
        }

        th, td {
            text-align: left;
            padding: 10px;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2
        }
    </style>
    <script type="text/javascript" src="{% static 'gallery/3rdparty/__jquery.tablesorter/jquery.tablesorter.js' %}"></script> 
    <script>

        var tableData = {{ roi_table_data }};
        var table_row_id;
        $(function (){
            $( "#results_roi_table tbody" ).on( "click", "tr", function() {
                console.log( $( this ).attr("data-roi-id") ); 
                var roi_id = $( this ).attr("data-roi-id");
                console.log( $( this ).closest('tr').index() );
                table_row_id = $( this ).closest('tr').index();
                var url = '{% url 'webgallery_index' %}' + "gallery/show_roi_in_preview/" + roi_id + "/"
                $("#roi_in_preview").load(url)
            });
        }) 
    </script>
</head>
<table id="results_roi_table" class="tablesorter">
    <thead>
        <tr>
            <th>ROI-id</th>
            <th>Shape-id</th>
            <th>Z</th>
            <th>C</th>
            <th>T</th>
            <th>Comment</th> 
            {% for val in table_col_names %}
                <th>{{val}}</th>
            {% endfor %} 
        </tr>
    </thead>
    <tbody>
        {% for s in shapes %}
            <tr data-roi-id="{{s.roi_id}}">
                <td>{{s.roi_id}}</td>
                <td>{{s.id}}</td>
                <td>{{s.theZ}}</td>
                <td>{{s.theC}}</td>
                <td>{{s.theT}}</td>
                <td>{{s.textValue}}</td>
                {% for val in s.data %}
                    <td>{{val}}</td>
                {% endfor %}
            </tr>
        {% endfor %}
    </tbody>
    <script>
        $(document).ready(function() 
            { 
                $("#results_roi_table").tablesorter(); 
            } 
        );
    </script>
</table>

